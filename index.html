<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Luan Financeiro Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0b132b">

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#0b132b;
  color:#fff;
  padding:20px;
}
h1{text-align:center}
.card{
  background:#111c3a;
  border-radius:18px;
  padding:18px;
  margin-bottom:18px;
}
.titulo{font-size:14px;opacity:.7}
.valor-grande{font-size:32px;font-weight:700}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:10px;
  border:none;
  font-size:15px;
}
input,select{background:#0b132b;color:#fff}
button{background:#19e3c2;color:#000;font-weight:600}
.progress{
  height:12px;
  background:#0b132b;
  border-radius:12px;
  overflow:hidden;
  margin-top:10px;
}
.progress div{
  height:100%;
  background:linear-gradient(90deg,#19e3c2,#4facfe);
  transition:.4s;
}
canvas{margin-top:10px}
.small{font-size:13px;opacity:.8;margin-top:6px}
</style>
</head>

<body>

<h1>ðŸ’° Luan Financeiro</h1>

<div class="card">
  <div class="titulo">Saldo disponÃ­vel</div>
  <div class="valor-grande" id="saldo">R$ 0,00</div>
</div>

<div class="card">
  <div class="titulo">Adicionar saldo</div>
  <input id="valorAdd" type="number" placeholder="Valor">
  <button onclick="addSaldo()">Adicionar</button>
</div>

<div class="card">
  <div class="titulo">ConfiguraÃ§Ã£o da meta</div>

  <input id="meta" type="number" placeholder="Meta principal">
  <input id="meta2" type="number" placeholder="Meta secundÃ¡ria (opcional)">

  <select id="periodo">
    <option value="7">7 dias</option>
    <option value="15">15 dias</option>
    <option value="30" selected>30 dias</option>
    <option value="custom">Personalizado</option>
  </select>

  <input id="diasCustom" type="number" placeholder="Quantidade de dias" style="display:none">

  <div class="small" id="porDia"></div>
  <div class="small" id="falta"></div>

  <div class="progress"><div id="barra"></div></div>
  <canvas id="grafico" height="120"></canvas>
</div>

<div class="card">
  <div class="titulo">ðŸ”¥ MotivaÃ§Ã£o do dia</div>
  <div id="motivacao"></div>
</div>

<script>
const KEY="luan_financeiro_pro";

let dados = JSON.parse(localStorage.getItem(KEY)) || {
  saldo:0,meta:0,meta2:0,guardado:0,
  diasTotal:30,historico:[]
};

const frases=[
"Disciplina hoje, liberdade amanhÃ£ ðŸ’ª",
"Cada real guardado Ã© um passo a mais ðŸ”¥",
"VocÃª estÃ¡ construindo seu futuro ðŸ’°",
"ConstÃ¢ncia vence motivaÃ§Ã£o ðŸ§ ",
"Pouco todo dia vira muito ðŸ’Ž"
];

function salvar(){localStorage.setItem(KEY,JSON.stringify(dados));}

function atualizar(){
  saldo.innerText="R$ "+dados.saldo.toFixed(2);

  if(dados.meta){
    const porDiaV=dados.meta/dados.diasTotal;
    porDia.innerText="SugestÃ£o por dia: R$ "+porDiaV.toFixed(2);
    falta.innerText="Falta: R$ "+Math.max(dados.meta-dados.guardado,0).toFixed(2);
    barra.style.width=Math.min((dados.guardado/dados.meta)*100,100)+"%";
  }

  desenharGrafico();
  salvar();
}

function addSaldo(){
  const v=Number(valorAdd.value);
  if(!v)return;
  dados.saldo+=v;
  valorAdd.value="";
  atualizar();
}

periodo.onchange=e=>{
  if(e.target.value==="custom"){
    diasCustom.style.display="block";
  }else{
    diasCustom.style.display="none";
    dados.diasTotal=Number(e.target.value);
    atualizar();
  }
};

diasCustom.onchange=e=>{
  dados.diasTotal=Number(e.target.value);
  atualizar();
};

meta.onchange=e=>{dados.meta=Number(e.target.value);atualizar();};
meta2.onchange=e=>{dados.meta2=Number(e.target.value);salvar();};

function desenharGrafico(){
  const c=grafico.getContext("2d");
  c.clearRect(0,0,300,120);
  const pct=dados.meta?dados.guardado/dados.meta:0;
  c.fillStyle="#19e3c2";
  c.fillRect(0,50,300*pct,20);
}

motivacao.innerText=frases[new Date().getDay()%frases.length];

atualizar();
</script>

</body>
</html>
