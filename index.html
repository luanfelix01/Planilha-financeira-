<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Luan Financeiro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0b132b">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#0b132b;
  color:#fff;
  padding:20px;
}
h1{text-align:center;margin-bottom:20px}
.card{
  background:#111c3a;
  border-radius:16px;
  padding:18px;
  margin-bottom:18px;
}
.label{font-size:13px;opacity:.7}
.big{
  font-size:30px;
  font-weight:700;
  margin-top:6px;
}
input,button{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin-top:8px;
  font-size:15px;
}
input{
  background:#0b132b;
  color:#fff;
}
button{
  background:#19e3c2;
  color:#000;
  font-weight:600;
}
.progress{
  height:12px;
  background:#0b132b;
  border-radius:10px;
  overflow:hidden;
  margin-top:10px;
}
.progress div{
  height:100%;
  background:linear-gradient(90deg,#19e3c2,#4facfe);
  width:0%;
  transition:.4s;
}
.lista{
  max-height:220px;
  overflow:auto;
}
.dia{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:8px 0;
  border-bottom:1px solid rgba(255,255,255,.08);
  font-size:14px;
}
small{opacity:.7}
</style>
</head>

<body>

<h1>ðŸ’° Luan Financeiro</h1>

<div class="card">
  <div class="label">Saldo economizado</div>
  <div class="big" id="saldo">R$ 0,00</div>
</div>

<div class="card">
  <div class="label">Meta do desafio (30 dias)</div>
  <input id="meta" type="number" placeholder="Ex: 1500">
  <small id="porDia"></small>
  <small id="falta"></small>
  <div class="progress">
    <div id="barra"></div>
  </div>
</div>

<div class="card">
  <div class="label">Guardar dinheiro por dia</div>
  <input id="valorDia" type="number" placeholder="Valor do dia">
  <button onclick="guardar()">Guardar hoje</button>
</div>

<div class="card">
  <div class="label">Checklist do desafio</div>
  <div class="lista" id="lista"></div>
</div>

<script>
const KEY = "luan_desafio_30";

let dados = JSON.parse(localStorage.getItem(KEY)) || {
  saldo: 0,
  meta: 0,
  dias: []
};

function salvar(){
  localStorage.setItem(KEY, JSON.stringify(dados));
}

function formatar(v){
  return "R$ " + v.toFixed(2);
}

function atualizar(){
  saldo.innerText = formatar(dados.saldo);

  if(dados.meta > 0){
    const porDia = dados.meta / 30;
    porDiaEl.innerText = "SugestÃ£o diÃ¡ria: " + formatar(porDia);
    falta.innerText = "Falta: " + formatar(Math.max(dados.meta - dados.saldo,0));
    barra.style.width = Math.min((dados.saldo / dados.meta)*100,100) + "%";
  }

  lista.innerHTML = "";
  dados.dias.forEach(d=>{
    lista.innerHTML += `
      <div class="dia">
        <span>Dia ${d.dia}</span>
        <span>${formatar(d.valor)}</span>
      </div>
    `;
  });

  salvar();
}

function guardar(){
  const valor = Number(valorDia.value);
  if(valor <= 0) return;

  const diaAtual = dados.dias.length + 1;
  if(diaAtual > 30) return alert("Desafio concluÃ­do!");

  dados.dias.push({ dia: diaAtual, valor });
  dados.saldo += valor;
  valorDia.value = "";

  atualizar();
}

meta.onchange = e => {
  dados.meta = Number(e.target.value);
  atualizar();
};

atualizar();
</script>

</body>
</html>
